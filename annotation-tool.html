<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>多功能圖片標註工具 (v6.0)</title>
    <!-- 引用外部 CSS 檔案 -->
    <link rel="stylesheet" href="annotation-tool.css">
</head>
<body>
<!-- START: Add this wrapper div -->
<div id="app-container">
    <h2>多功能圖片標註工具 (v6.0 分離版)</h2>
    <div class="toolbar">
        <input type="file" id="imgInput" accept="image/*, application/json" style="display: none;">
        <button id="clearBtn" class="toolbar-btn" onclick="handleClearOrNew()" title="清除畫布/新增圖片"></button>
        <div class="separator"></div>
        <button id="undoBtn" class="toolbar-btn" onclick="undo()" title="復原 (Ctrl+Z)"></button>
        <button id="redoBtn" class="toolbar-btn" onclick="redo()" title="取消復原 (Ctrl+Y)"></button>
        <div class="separator"></div>
        <button id="numberBtn" class="toggle-btn" onclick="setMode('number')">123</button>
        <button id="ellipseBtn" class="toolbar-btn" onclick="setMode('ellipse')" title="橢圓 (按住 Shift 畫正圓)"></button>
        <button id="rectBtn" class="toolbar-btn" onclick="setMode('rect')" title="矩形 (按住 Shift 畫正方形)"></button>
        <button id="arrowBtn" class="arrow-btn" onclick="setMode('arrow')"></button>
        <button id="highlighterBtn" class="toolbar-btn" onclick="setMode('highlighter')" title="螢光筆"></button>
        <button id="textBtn" class="text-btn" onclick="setMode('text')"></button>
        <label><input type="color" id="colorPicker" value="#ff0000" title="標註顏色"></label>
        <div class="separator"></div>
        <button class="toolbar-btn" onclick="saveProject()" title="儲存專案 (.json)"></button>
        <button class="toolbar-btn" onclick="copyImage()" title="複製到剪貼簿"></button>
        <button class="toolbar-btn" onclick="downloadImage()" title="下載圖片 (.png)"></button>
    </div>

    <div id="canvas-container" class="empty">
        <div id="image-placeholder">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
            <span>將圖片或專案檔 (.json) 拖曳至此<br>或點擊選擇檔案</span>
        </div>
        <canvas id="canvas" width="800" height="450"></canvas>
        <input type="text" id="textInputBox">
        <input type="number" id="moveNumberInput" min="1">
        <div id="circleMenu"></div>
        <div id="textMenu"></div>
        <div id="arrowMenu"></div>
    </div>
    <!-- <p>
    - <b>更新日誌 (v6.0):</b><br>
    - <b>復原/取消復原</b>新增 Undo/Redo 功能，可復原大部分的標註操作。<br>
    - <b>先前更新：</b>選單預覽、BUG修正、螢光筆、數字排序、自訂檔名等功能。
    </p> -->
</div>
<!-- END: Add this wrapper div -->

<!-- 在 body 結尾引用外部 JS 檔案 -->
<script src="annotation-tool.js"></script>
</body>
</html>